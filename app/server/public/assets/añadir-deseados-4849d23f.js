import"./modulepreload-polyfill-3cfb730f.js";import"./principal-90e94c9b.js";import"./navbar-79b7ff75.js";import{b as s,s as n}from"./config-ef5f6dbc.js";import{s as i}from"./toast-8abe4fe9.js";import"./viewpartials-7a86f681.js";import"./init-52a8aa54.js";async function c(t,a){const e={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({usuario:t,clave:a})};try{const o=await(await fetch(s+"/login",e)).json();return o&&o.token&&(n("rol",o.usuario.rolid),n("token",o.token),n("id",o.usuario.id),n("idCliente",o.idCliente)),o}catch(r){console.error("Error:",r)}}$(document).ready(function(){$("#btnloginc").click(async function(t){t.preventDefault(),await l()})});async function l(){$("#btnloginc").prop("disabled",!0).text("Ingresando...");const t=$("#txtusuario").val(),a=$("#txtclave").val();try{await c(t,a)&&(i("success","Cliente logueado correctamente"),window.location.href="/principal.html")}catch(e){i("error"),console.error(e)}finally{$("#btnloginc").prop("disabled",!1).text("Ingresar")}}
