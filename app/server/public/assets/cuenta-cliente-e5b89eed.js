import"./modulepreload-polyfill-3cfb730f.js";import"./principal-90e94c9b.js";import"./a√±adir-deseados-4849d23f.js";import{g as t,b as c}from"./config-ef5f6dbc.js";import"./navbar-79b7ff75.js";import"./viewpartials-7a86f681.js";import"./init-52a8aa54.js";import"./toast-8abe4fe9.js";async function s(){const o=t("id"),n=t("idCliente");console.log("LOS REALES DATOS",o,n);try{const r=await fetch(c+`/cliente/${n}`),i=await fetch(c+`/usuario/${o}`),e=await r.json(),a=await i.json();console.log(e,a);const l={nombres:a.nombre_completo,telefono:e.telefono,pais:e.pais,ciudad:e.ciudad,correo:e.correo,tipoDocumento:e.tipo_documento,numeroDocumento:e.numero_documento,region:e.region,direccion:e.direccion,fotoPerfil:e.foto_perfil};return l}catch(r){console.error("Error al listar los datos del cliente:",r)}}async function u(o){const n=t("id"),r=t("idCliente");o.idUsuario=t("id");const i={method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(o)},e={method:"PUT",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(o)};try{const a=await fetch(c+`/usuario/${n}`,i),l=await fetch(c+`/cliente/${r}`,e)}catch(a){console.error("Error al actualizar el cliente",a)}}$(document).ready(function(){m(),$("#btnSaveChanges").click(async function(o){o.preventDefault(),p()})});async function m(){try{console.log("Inicio");const o=await s();console.log("DATOS CLIENTE",o),d(o)}catch(o){console.error(o)}}function d(o){$("#name").val(o.nombres),$("#phone").val(o.telefono),$("#country").val(o.pais),$("#city").val(o.ciudad),$("#email").val(o.correo),console.log("EL CORREO Es",o.correo),$("#document-type").val(o.tipoDocumento),$("#document-number").val(o.numeroDocumento),$("#region").val(o.region),$("#address").val(o.direccion),$(".profile-img").attr("src",o.fotoPerfil||"default-image-path.jpg")}async function p(){const o=t("id").toString();console.log("TIPO",typeof o);const n={nombre_completo:$("#name").val(),telefono:$("#phone").val(),pais:$("#country").val(),ciudad:$("#city").val(),numero_documento:$("#document-number").val(),region:$("#region").val(),direccion:$("#address").val(),idUsuario:o};try{const r=await u(n)}catch(r){console.error("Hubo un error actualizando el cliente",r)}}
