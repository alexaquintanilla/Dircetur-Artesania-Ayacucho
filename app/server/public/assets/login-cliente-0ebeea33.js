import"./modulepreload-polyfill-3cfb730f.js";import"./index-4fa915dd.js";import{b as r,s as n}from"./config-64035b4f.js";import{s as i}from"./toast-8abe4fe9.js";import"./preload-helper-101896b7.js";import"./init-bc9bbeea.js";import"./viewpartials-ac66bf27.js";async function s(e,a){const t={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({usuario:e,clave:a})};try{return await fetch(r+"/v1/login-clientes",t)}catch(o){console.error("Error:",o)}}$(document).ready(function(){$("#btnloginc").click(async function(e){e.preventDefault(),await c()})});async function c(){$("#btnloginc").prop("disabled",!0).text("Ingresando...");const e=$("#txtusuario").val(),a=$("#txtclave").val();try{const t=await s(e,a),o=await t.json();if(console.log("La data",o),console.log("El result en index",t),t.status===200)n("rol",3),n("token",o.data.token),n("id",o.data.id),n("idCliente",o.data.idCliente),window.location.href="/principal.html";else throw new Error(o.error)}catch(t){i(t),console.error(t)}finally{$("#btnloginc").prop("disabled",!1).text("Ingresar")}}
